<div sf-array="form" ng-model="$$value$$" ng-model-options="form.ngModelOptions">
	<h2 class="form-section" ng-if="form.title && form.notitle !== true" ng-bind="form.title"></h2>

	<ol class="list-group" ng-model="modelArray" ui-sortable data-role="section" ng-attr-data-section="{{::form.id}}">
		<li class="list-group-item" ng-repeat="item in modelArray track by $index" ng-attr-data-section-index="{{::$index}}">
		  <button ng-if="!form.readonly && canDeleteFromArray()"
				  ng-click="deleteFromArray($index)"
				  style="position: relative; z-index: 20;"
				  type="button"
				  class="close pull-right"
				  data-role="remove-section"
				  data-section="{{::form.id}}">

				  <span aria-hidden="true">&times;</span>
				  <span class="sr-only">Close</span>
		  </button>

		  <sf-decorator ng-init="arrayIndex = $index" form="copyWithIndex($index)"></sf-decorator>
		</li>
	</ol>

	<div class="clearfix" style="padding: 15px;">
		<button ng-if="!form.readonly && canAppendToArray()"
			ng-click="appendToArray()"
			type="button"
			class="btn btn-link pull-right"
			data-role="add-section"
			data-section="{{::form.id}}">

			<i class="glyphicon glyphicon-plus"></i>
      <span ng-bind="::form.add || 'Add'">Add</span>
		</button>
	</div>

	<div class="help-block"
		ng-show="(hasError() && errorMessage(schemaError())) || form.description"
		ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description">
	</div>
</div>
